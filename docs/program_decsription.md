# 🧩 各プログラム説明（Program Description）

本システムは Flask を中心とした  
「HTML + CSS + JavaScript（Chart.js） + CSV データ」  
で構成される。

ここでは各ファイルの役割をまとめる。

---

# 📁 1. Python（Flask）側

## app.py（アプリケーション本体）
Web アプリ全体の中心となる処理。

### 主な機能
- ルーティング（URL振り分け）
- CSV データの読み込み
- 顧客・売上・在庫データの集計
- ページに渡すデータ（JSON）生成
- Plotly グラフ生成（顧客履歴ページ）

### 主な URL（エンドポイント）
| URL | 内容 |
|-----|------|
| `/` | ホームページ |
| `/dashboard` | ダッシュボード集計 |
| `/customer/<id>` | 個別顧客詳細 |
| `/stock.html` | 在庫管理 |
| `/search.html` | 顧客検索 |

---

# 📁 2. HTML テンプレート（templates/）

## index.html
- ホーム（トップページ）
- ナビゲーションへの入口

## dashboard.html
- ダッシュボード画面
- KPI（総顧客・総売上・ARPU）
- 地域別集計（SVG 日本地図 / グラフ / 表）
- 年代 × 性別セグメント分析
- ランキング（頻度・合計額）

## customer.html
- 個別顧客のプロフィール
- 購入履歴（Plotly グラフ）
- 注文履歴テーブル

## stock.html
- 在庫一覧表示
- 複合検索（商品名 / カテゴリ / 在庫率 / 発注量）

## search.html
- 顧客ID検索フォーム

---

# 📁 3. JavaScript（static/）

## dashboard.js
グラフ描画・地図操作などの動作を担当。

### 主な役割
- Chart.js を使った棒グラフ・積み上げグラフの生成
- SVG 日本地図の色塗り（売上に応じてグラデーション）
- ホバー tooltip 表示
- 地図 / グラフ / 表のタブ切り替え
- セグメント分析（年代×性別）の切り替え

---

## humberger.js
ハンバーガーメニューの開閉制御。

### 主な役割
- メニューアイコンに `.active` を付与・削除
- 3本線 → ✕ のアニメーション
- サイドバーをスライド表示 / 非表示

---

# 📁 4. CSS（static/）

## dashboard.css
- ダッシュボード全体のレイアウト
- KPIボックスのデザイン
- テーブル / ボタンのスタイル
- グラフ領域のスタイル調整

## humberger.css
- 固定ヘッダー
- サイドバー（ナビ）
- ハンバーガーアイコンのアニメーション

